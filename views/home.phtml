<?php
require_once __DIR__ . '/../config.php';
require_once __DIR__ . '/../models/User.php';
?>

<div class="container my-5">
    <div class="position-relative" style="max-height: 800px; overflow: hidden;">
        <img class="img-fluid rounded w-100" style="filter: brightness(0.7); object-fit: cover; height: 800px;" src="<?php echo PREFIX ?>/images/home-hero.jpg" alt="Hero Image">

        <div class="position-absolute bottom-0 start-0 p-4 text-white">
            <h1 class="display-4 fw-bold text-shadow">Rent from BAHRENT</h1>
            <p class="fs-5 mb-4 text-shadow">Find the perfect charger for your car!</p>

            <?php if (User::fromSession()): ?>

                <?php if (User::fromSession()->role == 'user'): ?>
                    <a href="<?= PREFIX ?>/browse.php" class="btn btn-success btn-lg fw-bold">Rent a Charger</a>
                <?php endif; ?>

            <?php else: ?>
                <a href="<?= PREFIX ?>/login.php" class="btn btn-success btn-lg fw-bold">Rent a Charger</a>
            <?php endif; ?>
        </div>
    </div>

    <h1 class="mt-5 mb-4 fw-bold text-center">Why Rent from us?</h1>

    <!-- Features cards -->
    <div class="row g-3">
        <?php foreach ($featuresList as $feature): ?>
            <div class="col-md-4">
                <div class="card border-success bg-light h-100">
                    <div class="card-body text-center">
                        <div class="text-success mb-3">
                            <i class="fa-solid <?= htmlspecialchars($feature->icon) ?> fa-2x"></i>
                        </div>
                        <h5 class="card-title fw-bold"><?= htmlspecialchars($feature->title) ?></h5>
                        <p class="card-text text-muted"><?= htmlspecialchars($feature->description) ?></p>
                    </div>
                </div>
            </div>
        <?php endforeach; ?>
    </div>

    <!-- FAQ Section -->
    <h1 class="mt-5 mb-4 fw-bold text-center">Frequently Asked Questions</h1>
    <div class="accordion" id="faqAccordion">
        <div class="accordion-item">
            <h2 class="accordion-header" id="faqHeading1">
                <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse1" aria-expanded="true" aria-controls="faqCollapse1">
                    How does the EV charger rental process work?
                </button>
            </h2>
            <div id="faqCollapse1" class="accordion-collapse collapse show" aria-labelledby="faqHeading1" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                    Browse available EV chargers, select the one that fits your needs, and book it for your desired dates. You can pick up the charger or have it delivered to your location.
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="faqHeading2">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse2" aria-expanded="false" aria-controls="faqCollapse2">
                    What are the rental rates for EV chargers?
                </button>
            </h2>
            <div id="faqCollapse2" class="accordion-collapse collapse" aria-labelledby="faqHeading2" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                    Rental rates depend on the charger model and rental duration. Please check the charger details page for specific pricing information.
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="faqHeading3">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse3" aria-expanded="false" aria-controls="faqCollapse3">
                    Do you offer delivery and installation for EV chargers?
                </button>
            </h2>
            <div id="faqCollapse3" class="accordion-collapse collapse" aria-labelledby="faqHeading3" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                    Yes, we offer delivery and optional installation services for an additional fee. You can select these options during the booking process.
                </div>
            </div>
        </div>
        <div class="accordion-item">
            <h2 class="accordion-header" id="faqHeading4">
                <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faqCollapse4" aria-expanded="false" aria-controls="faqCollapse4">
                    What types of EV chargers are available for rent?
                </button>
            </h2>
            <div id="faqCollapse4" class="accordion-collapse collapse" aria-labelledby="faqHeading4" data-bs-parent="#faqAccordion">
                <div class="accordion-body">
                    We offer a variety of Level 1 and Level 2 EV chargers compatible with most electric vehicles. Check the product details for compatibility information.
                </div>
            </div>
        </div>
    </div>
</div>